/*! For license information please see 376.9d99902ff79916ed7714.js.LICENSE.txt */
"use strict";(self.webpackChunkenglish_trainer=self.webpackChunkenglish_trainer||[]).push([[376],{721:function(e,t,n){n.d(t,{Z:function(){return u}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let a;const l=new Uint8Array(16);function i(){if(!a&&(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(l)}const o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));var u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const a=(e=e||{}).random||(e.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=a[e];return t}return function(e,t=0){return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}(a)}},954:function(e,t,n){n.d(t,{U$:function(){return Q},cI:function(){return le}});var r=n(252),a=n(262);function l(e){return"function"==typeof e}function i(e){return null==e}const o=e=>null!==e&&!!e&&"object"==typeof e&&!Array.isArray(e);function u(e){return Number(e)>=0}function s(e,t){return Object.keys(t).forEach((n=>{if(function(e){if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(t[n]))return e[n]||(e[n]={}),void s(e[n],t[n]);e[n]=t[n]})),e}const c={},d=Symbol("vee-validate-form"),v=Symbol("vee-validate-field-instance"),f=Symbol("Default empty value"),p="undefined"!=typeof window;function h(e){return l(e)&&!!e.__locatorRef}function m(e){return!!e&&l(e.parse)&&"VVTypedSchema"===e.__type}function y(e){return!!e&&l(e.validate)}function g(e){return"checkbox"===e||"radio"===e}function b(e){return/^\[.+\]$/i.test(e)}function O(e){return"SELECT"===e.tagName}function V(e){return!!(e&&("undefined"!=typeof Event&&l(Event)&&e instanceof Event||e&&e.srcElement))}function S(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,r,a;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(!S(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!S(r[1],t.get(r[0])))return!1;return!0}if(j(e)&&j(t))return e.size===t.size&&e.name===t.name&&e.lastModified===t.lastModified&&e.type===t.type;if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(r=n;0!=r--;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(a=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(t,a[r]))return!1;for(r=n;0!=r--;){var l=a[r];if(!S(e[l],t[l]))return!1}return!0}return e!=e&&t!=t}function j(e){return!!p&&e instanceof File}function U(e,t,n){"object"==typeof n.value&&(n.value=A(n.value)),n.enumerable&&!n.get&&!n.set&&n.configurable&&n.writable&&"__proto__"!==t?e[t]=n.value:Object.defineProperty(e,t,n)}function A(e){if("object"!=typeof e)return e;var t,n,r,a=0,l=Object.prototype.toString.call(e);if("[object Object]"===l?r=Object.create(e.__proto__||null):"[object Array]"===l?r=Array(e.length):"[object Set]"===l?(r=new Set,e.forEach((function(e){r.add(A(e))}))):"[object Map]"===l?(r=new Map,e.forEach((function(e,t){r.set(A(t),A(e))}))):"[object Date]"===l?r=new Date(+e):"[object RegExp]"===l?r=new RegExp(e.source,e.flags):"[object DataView]"===l?r=new e.constructor(A(e.buffer)):"[object ArrayBuffer]"===l?r=e.slice(0):"Array]"===l.slice(-6)&&(r=new e.constructor(e)),r){for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)U(r,n[a],Object.getOwnPropertyDescriptor(e,n[a]));for(a=0,n=Object.getOwnPropertyNames(e);a<n.length;a++)Object.hasOwnProperty.call(r,t=n[a])&&r[t]===e[t]||U(r,t,Object.getOwnPropertyDescriptor(e,t))}return r||e}function w(e){return b(e)?e.replace(/\[|\]/gi,""):e}function F(e,t,n){return e?b(t)?e[w(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce(((e,t)=>{return(o(r=e)||Array.isArray(r))&&t in e?e[t]:n;var r}),e):n}function k(e,t,n){if(b(t))return void(e[w(t)]=n);const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let a=e;for(let e=0;e<r.length;e++){if(e===r.length-1)return void(a[r[e]]=n);r[e]in a&&!i(a[r[e]])||(a[r[e]]=u(r[e+1])?[]:{}),a=a[r[e]]}}function P(e,t){Array.isArray(e)&&u(t)?e.splice(Number(t),1):o(e)&&delete e[t]}function E(e,t){if(b(t))return void delete e[w(t)];const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let e=0;e<n.length;e++){if(e===n.length-1){P(r,n[e]);break}if(!(n[e]in r)||i(r[n[e]]))break;r=r[n[e]]}const a=n.map(((t,r)=>F(e,n.slice(0,r).join("."))));for(let t=a.length-1;t>=0;t--)l=a[t],(Array.isArray(l)?0===l.length:o(l)&&0===Object.keys(l).length)&&(0!==t?P(a[t-1],n[t-1]):P(e,n[0]));var l}function _(e){return Object.keys(e)}function I(e,t=void 0){const n=(0,r.FN)();return(null==n?void 0:n.provides[e])||(0,r.f3)(e,t)}function B(e,t,n){if(Array.isArray(e)){const n=[...e],r=n.findIndex((e=>S(e,t)));return r>=0?n.splice(r,1):n.push(t),n}return S(e,t)?n:t}function M(e,t=0){let n=null,r=[];return function(...a){return n&&window.clearTimeout(n),n=window.setTimeout((()=>{const t=e(...a);r.forEach((e=>e(t))),r=[]}),t),new Promise((e=>r.push(e)))}}function C(e,t){let n;return async function(...r){const a=e(...r);n=a;const l=await a;return a!==n||(n=void 0,t(l,r)),l}}function N(e){return l(e)?e():(0,a.SU)(e)}function D(e){return Array.isArray(e)?e:e?[e]:[]}function x(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function T(e){if(R(e))return e._value}function R(e){return"_value"in e}function Y(e){if(!V(e))return e;const t=e.target;if(g(t.type)&&R(t))return T(t);if("file"===t.type&&t.files){const e=Array.from(t.files);return t.multiple?e:e[0]}if(O(n=t)&&n.multiple)return Array.from(t.options).filter((e=>e.selected&&!e.disabled)).map(T);var n;if(O(t)){const e=Array.from(t.options).find((e=>e.selected));return e?T(e):t.value}return t.value}function $(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?o(e)&&e._$$isNormalized?e:o(e)?Object.keys(e).reduce(((t,n)=>{const r=function(e){return!0===e?[]:Array.isArray(e)||o(e)?e:[e]}(e[n]);return!1!==e[n]&&(t[n]=H(r)),t}),t):"string"!=typeof e?t:e.split("|").reduce(((e,t)=>{const n=q(t);return n.name?(e[n.name]=H(n.params),e):e}),t):t}function H(e){const t=e=>"string"==typeof e&&"@"===e[0]?function(e){const t=t=>F(t,e)||t[e];return t.__locatorRef=e,t}(e.slice(1)):e;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce(((n,r)=>(n[r]=t(e[r]),n)),{})}const q=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};let z=Object.assign({},{generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0});const J=()=>z;async function L(e,t,n={}){const r=null==n?void 0:n.bails,a={name:(null==n?void 0:n.name)||"{field}",rules:t,label:null==n?void 0:n.label,bails:null==r||r,formData:(null==n?void 0:n.values)||{}},i=await async function(e,t){if(m(e.rules)||y(e.rules))return async function(e,t){const n=m(t)?t:W(t),r=await n.parse(e),a=[];for(const e of r.errors)e.errors.length&&a.push(...e.errors);return{errors:a}}(t,e.rules);if(l(e.rules)||Array.isArray(e.rules)){const n={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},r=Array.isArray(e.rules)?e.rules:[e.rules],a=r.length,l=[];for(let i=0;i<a;i++){const a=r[i],o=await a(t,n);if("string"!=typeof o&&o)continue;const u="string"==typeof o?o:Z(n);if(l.push(u),e.bails)return{errors:l}}return{errors:l}}const n=Object.assign(Object.assign({},e),{rules:$(e.rules)}),r=[],a=Object.keys(n.rules),i=a.length;for(let l=0;l<i;l++){const i=a[l],o=await X(n,t,{name:i,params:n.rules[i]});if(o.error&&(r.push(o.error),e.bails))return{errors:r}}return{errors:r}}(a,e),o=i.errors;return{errors:o,valid:!o.length}}function W(e){return{__type:"VVTypedSchema",async parse(t){var n;try{return{output:await e.validate(t,{abortEarly:!1}),errors:[]}}catch(e){if(!function(e){return!!e&&"ValidationError"===e.name}(e))throw e;if(!(null===(n=e.inner)||void 0===n?void 0:n.length)&&e.errors.length)return{errors:[{path:e.path,errors:e.errors}]};const t=e.inner.reduce(((e,t)=>{const n=t.path||"";return e[n]||(e[n]={errors:[],path:n}),e[n].errors.push(...t.errors),e}),{});return{errors:Object.values(t)}}}}}async function X(e,t,n){const r=(a=n.name,c[a]);var a;if(!r)throw new Error(`No such validator '${n.name}' exists.`);const l=function(e,t){const n=e=>h(e)?e(t):e;return Array.isArray(e)?e.map(n):Object.keys(e).reduce(((t,r)=>(t[r]=n(e[r]),t)),{})}(n.params,e.formData),i={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:l})},o=await r(t,l,i);return"string"==typeof o?{error:o}:{error:o?void 0:Z(i)}}function Z(e){const t=J().generateMessage;return t?t(e):"Field is invalid"}async function G(e,t,n){const r=_(e).map((async r=>{var a,l,i;const o=null===(a=null==n?void 0:n.names)||void 0===a?void 0:a[r],u=await L(F(t,r),e[r],{name:(null==o?void 0:o.name)||r,label:null==o?void 0:o.label,values:t,bails:null===(i=null===(l=null==n?void 0:n.bailsMap)||void 0===l?void 0:l[r])||void 0===i||i});return Object.assign(Object.assign({},u),{path:r})}));let a=!0;const l=await Promise.all(r),i={},o={};for(const e of l)i[e.path]={valid:e.valid,errors:e.errors},e.valid||(a=!1,o[e.path]=e.errors[0]);return{valid:a,results:i,errors:o}}let K=0;function Q(e,t,n){return g(null==n?void 0:n.type)?function(e,t,n){const l=(null==n?void 0:n.standalone)?void 0:I(d),i=null==n?void 0:n.checkedValue,o=null==n?void 0:n.uncheckedValue;return function(t){const n=t.handleChange,u=(0,r.Fl)((()=>{const e=(0,a.SU)(t.value),n=(0,a.SU)(i);return Array.isArray(e)?e.findIndex((e=>S(e,n)))>=0:S(n,e)}));return Object.assign(Object.assign({},t),{checked:u,checkedValue:i,uncheckedValue:o,handleChange:function(r,s=!0){var c;if(u.value===(null===(c=null==r?void 0:r.target)||void 0===c?void 0:c.checked))return void(s&&t.validate());const d=N(e),v=null==l?void 0:l.getPathState(d),f=Y(r);let p;p=l&&(null==v?void 0:v.multiple)&&"checkbox"===v.type?B(F(l.values,d)||[],f,void 0):B((0,a.SU)(t.value),(0,a.SU)(i),(0,a.SU)(o)),n(p,s)}})}(ee(e,t,n))}(e,t,n):ee(e,t,n)}function ee(e,t,n){const{initialValue:i,validateOnMount:u,bails:s,type:c,checkedValue:p,label:g,validateOnValueUpdate:b,uncheckedValue:O,controlled:V,keepValueOnUnmount:j,modelPropName:U,syncVModel:w,form:k}=function(e){var t;const n=(null===(t=null==e?void 0:e.syncVModel)||void 0===t||t)&&!("initialValue"in(e||{}))?te((0,r.FN)(),(null==e?void 0:e.modelPropName)||"modelValue"):null==e?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},{initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),{initialValue:n});const a="valueProp"in e?e.valueProp:e.checkedValue,l="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},{initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),e||{}),{initialValue:n,controlled:null==l||l,checkedValue:a})}(n),P=V?I(d):void 0,E=k||P,B=function(e){return(0,r.Fl)((()=>N(e)))}(e),M=(0,r.Fl)((()=>{if((0,a.SU)(null==E?void 0:E.schema))return;const e=(0,a.SU)(t);return y(e)||m(e)||l(e)||Array.isArray(e)?e:$(e)})),{id:x,value:T,initialValue:R,meta:H,setState:q,errors:z,flags:J}=function(e,t){const{value:n,initialValue:l,setInitialValue:i}=function(e,t,n){const l=(0,a.iH)((0,a.SU)(t));function i(){return n?F(n.initialValues.value,(0,a.SU)(e),(0,a.SU)(l)):(0,a.SU)(l)}function o(t){n?n.stageInitialValue((0,a.SU)(e),t,!0):l.value=t}const u=(0,r.Fl)(i);if(!n)return{value:(0,a.iH)(i()),initialValue:u,setInitialValue:o};const s=function(e,t,n,r){return(0,a.dq)(e)?(0,a.SU)(e):void 0!==e?e:F(t.values,(0,a.SU)(r),(0,a.SU)(n))}(t,n,u,e);return n.stageInitialValue((0,a.SU)(e),s,!0),{value:(0,r.Fl)({get(){return F(n.values,(0,a.SU)(e))},set(t){n.setFieldValue((0,a.SU)(e),t)}}),initialValue:u,setInitialValue:o}}(e,t.modelValue,t.form);if(!t.form){const{errors:s,setErrors:c}=function(){const e=(0,a.iH)([]);return{errors:e,setErrors:t=>{e.value=D(t)}}}(),d=K>=Number.MAX_SAFE_INTEGER?0:++K,v=function(e,t,n){const l=(0,a.qj)({touched:!1,pending:!1,valid:!0,validated:!!(0,a.SU)(n).length,initialValue:(0,r.Fl)((()=>(0,a.SU)(t))),dirty:(0,r.Fl)((()=>!S((0,a.SU)(e),(0,a.SU)(t))))});return(0,r.YP)(n,(e=>{l.valid=!e.length}),{immediate:!0,flush:"sync"}),l}(n,l,s);function f(e){var t;"value"in e&&(n.value=e.value),"errors"in e&&c(e.errors),"touched"in e&&(v.touched=null!==(t=e.touched)&&void 0!==t?t:v.touched),"initialValue"in e&&i(e.initialValue)}return{id:d,path:e,value:n,initialValue:l,meta:v,flags:{pendingUnmount:{[d]:!1}},errors:s,setState:f}}const o=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=(0,r.Fl)((()=>o.errors));return{id:Array.isArray(o.id)?o.id[o.id.length-1]:o.id,path:e,value:n,errors:u,meta:o,initialValue:l,flags:o.__flags,setState:function(r){var l,o,u;"value"in r&&(n.value=r.value),"errors"in r&&(null===(l=t.form)||void 0===l||l.setFieldError((0,a.SU)(e),r.errors)),"touched"in r&&(null===(o=t.form)||void 0===o||o.setFieldTouched((0,a.SU)(e),null!==(u=r.touched)&&void 0!==u&&u)),"initialValue"in r&&i(r.initialValue)}}}(B,{modelValue:i,form:E,bails:s,label:g,type:c,validate:M.value?Q:void 0}),W=(0,r.Fl)((()=>z.value[0]));async function X(e){var t,n;return(null==E?void 0:E.validateSchema)?null!==(t=(await E.validateSchema(e)).results[(0,a.SU)(B)])&&void 0!==t?t:{valid:!0,errors:[]}:M.value?L(T.value,M.value,{name:(0,a.SU)(B),label:(0,a.SU)(g),values:null!==(n=null==E?void 0:E.values)&&void 0!==n?n:{},bails:s}):{valid:!0,errors:[]}}w&&function({prop:e,value:t,handleChange:n}){const a=(0,r.FN)();if(!a)return;const l=e||"modelValue",i=`update:${l}`;l in a.props&&((0,r.YP)(t,(e=>{S(e,te(a,l))||a.emit(i,e)})),(0,r.YP)((()=>te(a,l)),(e=>{if(e===f&&void 0===t.value)return;const r=e===f?void 0:e;S(r,function(e,t){return o(t)&&t.number?function(e){const t=parseFloat(e);return isNaN(t)?e:t}(e):e}(t.value,a.props.modelModifiers))||n(r)})))}({value:T,prop:U,handleChange:ee});const Z=C((async()=>(H.pending=!0,H.validated=!0,X("validated-only"))),(e=>{if(!J.pendingUnmount[le.id])return q({errors:e.errors}),H.pending=!1,H.valid=e.valid,e})),G=C((async()=>X("silent")),(e=>(H.valid=e.valid,e)));function Q(e){return"silent"===(null==e?void 0:e.mode)?G():Z()}function ee(e,t=!0){re(Y(e),t)}function ne(e){var t;const n=e&&"value"in e?e.value:R.value;q({value:A(n),initialValue:A(n),touched:null!==(t=null==e?void 0:e.touched)&&void 0!==t&&t,errors:(null==e?void 0:e.errors)||[]}),H.pending=!1,H.validated=!1,G()}function re(e,t=!0){T.value=e,t?(t?Z:G)():G()}(0,r.bv)((()=>{if(u)return Z();E&&E.validateSchema||G()}));const ae=(0,r.Fl)({get(){return T.value},set(e){re(e,b)}}),le={id:x,name:B,label:g,value:ae,meta:H,errors:z,errorMessage:W,type:c,checkedValue:p,uncheckedValue:O,bails:s,keepValueOnUnmount:j,resetField:ne,handleReset:()=>ne(),validate:Q,handleChange:ee,handleBlur:()=>{H.touched=!0},setState:q,setTouched:function(e){H.touched=e},setErrors:function(e){q({errors:Array.isArray(e)?e:[e]})},setValue:re};if((0,r.JJ)(v,le),(0,a.dq)(t)&&"function"!=typeof(0,a.SU)(t)&&(0,r.YP)(t,((e,t)=>{S(e,t)||(H.validated?Z():G())}),{deep:!0}),!E)return le;const ie=(0,r.Fl)((()=>{const e=M.value;return!e||l(e)||y(e)||m(e)||Array.isArray(e)?{}:Object.keys(e).reduce(((t,n)=>{const r=(a=e[n],Array.isArray(a)?a.filter(h):_(a).filter((e=>h(a[e]))).map((e=>a[e]))).map((e=>e.__locatorRef)).reduce(((e,t)=>{const n=F(E.values,t)||E.values[t];return void 0!==n&&(e[t]=n),e}),{});var a;return Object.assign(t,r),t}),{})}));return(0,r.YP)(ie,((e,t)=>{Object.keys(e).length&&!S(e,t)&&(H.validated?Z():G())})),(0,r.Jd)((()=>{var e;const t=null!==(e=(0,a.SU)(le.keepValueOnUnmount))&&void 0!==e?e:(0,a.SU)(E.keepValuesOnUnmount),n=N(B);if(t||!E||J.pendingUnmount[le.id])return void(null==E||E.removePathState(n,x));J.pendingUnmount[le.id]=!0;const r=E.getPathState(n);if(Array.isArray(null==r?void 0:r.id)&&(null==r?void 0:r.multiple)?null==r?void 0:r.id.includes(le.id):(null==r?void 0:r.id)===le.id){if((null==r?void 0:r.multiple)&&Array.isArray(r.value)){const e=r.value.findIndex((e=>S(e,(0,a.SU)(le.checkedValue))));if(e>-1){const t=[...r.value];t.splice(e,1),E.setFieldValue(n,t)}Array.isArray(r.id)&&r.id.splice(r.id.indexOf(le.id),1)}else E.unsetPathValue(N(B));E.removePathState(n,x)}})),le}function te(e,t){if(e)return e.props[t]}Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;let ne=0;const re=["bails","fieldsCount","id","multiple","type","validate"];function ae(e){const t=(0,a.SU)(null==e?void 0:e.initialValues)||{},n=(0,a.SU)(null==e?void 0:e.validationSchema);return n&&m(n)&&l(n.cast)?A(n.cast(t)||{}):A(t)}function le(e){var t;const n=ne++;let i=0;const o=(0,a.iH)(!1),u=(0,a.iH)(!1),c=(0,a.iH)(0),v=[],f=(0,a.qj)(ae(e)),p=(0,a.iH)([]),h=(0,a.iH)({});function g(e,t){const n=Q(e);n?(n.errors=D(t),n.valid=!n.errors.length):"string"==typeof e&&(h.value[e]=D(t))}function b(e){_(e).forEach((t=>{g(t,e[t])}))}(null==e?void 0:e.initialErrors)&&b(e.initialErrors);const O=(0,r.Fl)((()=>{const e=p.value.reduce(((e,t)=>(t.errors.length&&(e[t.path]=t.errors),e)),{});return Object.assign(Object.assign({},h.value),e)})),j=(0,r.Fl)((()=>_(O.value).reduce(((e,t)=>{const n=O.value[t];return(null==n?void 0:n.length)&&(e[t]=n[0]),e}),{}))),U=(0,r.Fl)((()=>p.value.reduce(((e,t)=>(e[t.path]={name:t.path||"",label:t.label||""},e)),{}))),w=(0,r.Fl)((()=>p.value.reduce(((e,t)=>{var n;return e[t.path]=null===(n=t.bails)||void 0===n||n,e}),{}))),P=Object.assign({},(null==e?void 0:e.initialErrors)||{}),I=null!==(t=null==e?void 0:e.keepValuesOnUnmount)&&void 0!==t&&t,{initialValues:B,originalInitialValues:T,setInitialValues:R}=function(e,t,n){const l=ae(n),i=null==n?void 0:n.initialValues,o=(0,a.iH)(l),u=(0,a.iH)(A(l));function s(n,r=!1){o.value=A(n),u.value=A(n),r&&e.value.forEach((e=>{if(e.touched)return;const n=F(o.value,e.path);k(t,e.path,A(n))}))}return(0,a.dq)(i)&&(0,r.YP)(i,(e=>{e&&s(e,!0)}),{deep:!0}),{initialValues:o,originalInitialValues:u,setInitialValues:s}}(p,f,e),$=function(e,t,n,l){const i={touched:"some",pending:"some",valid:"every"},o=(0,r.Fl)((()=>!S(t,(0,a.SU)(n))));function u(){const t=e.value;return _(i).reduce(((e,n)=>{const r=i[n];return e[n]=t[r]((e=>e[n])),e}),{})}const s=(0,a.qj)(u());return(0,r.m0)((()=>{const e=u();s.touched=e.touched,s.valid=e.valid,s.pending=e.pending})),(0,r.Fl)((()=>Object.assign(Object.assign({initialValues:(0,a.SU)(n)},s),{valid:s.valid&&!_(l.value).length,dirty:o.value})))}(p,f,T,j),H=(0,r.Fl)((()=>p.value.reduce(((e,t)=>{const n=F(f,t.path);return k(e,t.path,n),e}),{}))),q=null==e?void 0:e.validationSchema;function z(e,t){var n,l;const o=(0,r.Fl)((()=>F(B.value,N(e)))),u=p.value.find((t=>t.path===(0,a.SU)(e)));if(u){"checkbox"!==(null==t?void 0:t.type)&&"radio"!==(null==t?void 0:t.type)||(u.multiple=!0);const e=i++;return Array.isArray(u.id)?u.id.push(e):u.id=[u.id,e],u.fieldsCount++,u.__flags.pendingUnmount[e]=!1,u}const s=(0,r.Fl)((()=>F(f,N(e)))),c=N(e),d=i++,v=(0,a.qj)({id:d,path:e,touched:!1,pending:!1,valid:!0,validated:!!(null===(n=P[c])||void 0===n?void 0:n.length),initialValue:o,errors:(0,a.XI)([]),bails:null!==(l=null==t?void 0:t.bails)&&void 0!==l&&l,label:null==t?void 0:t.label,type:(null==t?void 0:t.type)||"default",value:s,multiple:!1,__flags:{pendingUnmount:{[d]:!1}},fieldsCount:1,validate:null==t?void 0:t.validate,dirty:(0,r.Fl)((()=>!S((0,a.SU)(s),(0,a.SU)(o))))});return p.value.push(v),j.value[c]&&!P[c]&&(0,r.Y3)((()=>{me(c)})),(0,a.dq)(e)&&(0,r.YP)(e,(e=>{const t=A(s.value);(0,r.Y3)((()=>{k(f,e,t)}))})),v}const L=M(be,5),X=M(be,5),Z=C((async e=>"silent"===await e?L():X()),((e,[t])=>{const n=_(oe.errorBag.value);return[...new Set([..._(e.results),...p.value.map((e=>e.path)),...n])].sort().reduce(((n,r)=>{const a=r,l=Q(a)||function(e){return p.value.filter((t=>e.startsWith(t.path))).reduce(((e,t)=>e?t.path.length>e.path.length?t:e:t),void 0)}(a),i=(e.results[a]||{errors:[]}).errors,o={errors:i,valid:!i.length};return n.results[a]=o,o.valid||(n.errors[a]=o.errors[0]),l&&h.value[a]&&delete h.value[a],l?(l.valid=o.valid,"silent"===t?n:"validated-only"!==t||l.validated?(g(l,o.errors),n):n):(g(a,i),n)}),{valid:e.valid,results:{},errors:{}})}));function K(e){p.value.forEach(e)}function Q(e){return"string"==typeof e?p.value.find((t=>t.path===e)):e}let ee,te=[];function le(e){return function(t,n){return function(r){return r instanceof Event&&(r.preventDefault(),r.stopPropagation()),K((e=>e.touched=!0)),o.value=!0,c.value++,he().then((a=>{const l=A(f);if(a.valid&&"function"==typeof t){const n=A(H.value);let i=e?n:l;return a.values&&(i=a.values),t(i,{evt:r,controlledValues:n,setErrors:b,setFieldError:g,setTouched:ve,setFieldTouched:de,setValues:se,setFieldValue:ue,resetForm:pe,resetField:fe})}a.valid||"function"!=typeof n||n({values:l,evt:r,errors:a.errors,results:a.results})})).then((e=>(o.value=!1,e)),(e=>{throw o.value=!1,e}))}}}const ie=le(!1);ie.withControlled=le(!0);const oe={formId:n,values:f,controlledValues:H,errorBag:O,errors:j,schema:q,submitCount:c,meta:$,isSubmitting:o,isValidating:u,fieldArrays:v,keepValuesOnUnmount:I,validateSchema:(0,a.SU)(q)?Z:void 0,validate:he,setFieldError:g,validateField:me,setFieldValue:ue,setValues:se,setErrors:b,setFieldTouched:de,setTouched:ve,resetForm:pe,resetField:fe,handleSubmit:ie,stageInitialValue:function(t,n,r=!1){ge(t,n),k(f,t,n),r&&!(null==e?void 0:e.initialValues)&&k(T.value,t,A(n))},unsetInitialValue:ye,setFieldInitialValue:ge,useFieldModel:function(e){return Array.isArray(e)?e.map(ce):ce(e)},createPathState:z,getPathState:Q,unsetPathValue:function(e){return te.push(e),ee||(ee=(0,r.Y3)((()=>{[...te].sort().reverse().forEach((e=>{E(f,e)})),te=[],ee=null}))),ee},removePathState:function(e,t){const n=p.value.findIndex((t=>t.path===e)),r=p.value[n];if(-1!==n&&r){if(r.multiple&&r.fieldsCount&&r.fieldsCount--,Array.isArray(r.id)){const e=r.id.indexOf(t);e>=0&&r.id.splice(e,1),delete r.__flags.pendingUnmount[t]}(!r.multiple||r.fieldsCount<=0)&&(p.value.splice(n,1),ye(e))}},initialValues:B,getAllPathStates:()=>p.value,markForUnmount:function(e){return K((t=>{t.path.startsWith(e)&&_(t.__flags.pendingUnmount).forEach((e=>{t.__flags.pendingUnmount[e]=!0}))}))}};function ue(e,t){const n=A(t),r="string"==typeof e?e:e.path;Q(r)||z(r),k(f,r,n)}function se(e){s(f,e),v.forEach((e=>e&&e.reset()))}function ce(e){const t=Q((0,a.SU)(e))||z(e);return(0,r.Fl)({get(){return t.value},set(n){const r=(0,a.SU)(e);ue(r,n),t.validated=!0,t.pending=!0,me(r).then((()=>{t.pending=!1}))}})}function de(e,t){const n=Q(e);n&&(n.touched=t)}function ve(e){_(e).forEach((t=>{de(t,!!e[t])}))}function fe(e,t){var n;const r=t&&"value"in t?t.value:F(B.value,e);ge(e,A(r)),ue(e,r),de(e,null!==(n=null==t?void 0:t.touched)&&void 0!==n&&n),g(e,(null==t?void 0:t.errors)||[])}function pe(e){const t=(null==e?void 0:e.values)?e.values:T.value;R(t),se(t),K((n=>{var r;n.validated=!1,n.touched=(null===(r=null==e?void 0:e.touched)||void 0===r?void 0:r[n.path])||!1,ue(n.path,F(t,n.path)),g(n.path,void 0)})),b((null==e?void 0:e.errors)||{}),c.value=(null==e?void 0:e.submitCount)||0,(0,r.Y3)((()=>{he({mode:"silent"})}))}async function he(e){const t=(null==e?void 0:e.mode)||"force";if("force"===t&&K((e=>e.validated=!0)),oe.validateSchema)return oe.validateSchema(t);u.value=!0;const n=await Promise.all(p.value.map((t=>t.validate?t.validate(e).then((e=>({key:t.path,valid:e.valid,errors:e.errors}))):Promise.resolve({key:t.path,valid:!0,errors:[]}))));u.value=!1;const r={},a={};for(const e of n)r[e.key]={valid:e.valid,errors:e.errors},e.errors.length&&(a[e.key]=e.errors[0]);return{valid:n.every((e=>e.valid)),results:r,errors:a}}async function me(e){const t=Q(e);if(t&&(t.validated=!0),q){const{results:t}=await Z("validated-only");return t[e]||{errors:[],valid:!0}}return(null==t?void 0:t.validate)?t.validate():(t||(0,r.ZK)(`field with path ${e} was not found`),Promise.resolve({errors:[],valid:!0}))}function ye(e){E(B.value,e)}function ge(e,t){k(B.value,e,A(t))}async function be(){const e=(0,a.SU)(q);if(!e)return{valid:!0,results:{},errors:{}};u.value=!0;const t=y(e)||m(e)?await async function(e,t){const n=m(e)?e:W(e),r=await n.parse(t),a={},l={};for(const e of r.errors){const t=e.errors,n=(e.path||"").replace(/\["(\d+)"\]/g,((e,t)=>`[${t}]`));a[n]={valid:!t.length,errors:t},t.length&&(l[n]=t[0])}return{valid:!r.errors.length,results:a,errors:l,values:r.value}}(e,f):await G(e,f,{names:U.value,bailsMap:w.value});return u.value=!1,t}const Oe=ie(((e,{evt:t})=>{(function(e){return V(e)&&e.target&&"submit"in e.target})(t)&&t.target.submit()}));return(0,r.bv)((()=>{(null==e?void 0:e.initialErrors)&&b(e.initialErrors),(null==e?void 0:e.initialTouched)&&ve(e.initialTouched),(null==e?void 0:e.validateOnMount)?he():oe.validateSchema&&oe.validateSchema("silent")})),(0,a.dq)(q)&&(0,r.YP)(q,(()=>{var e;null===(e=oe.validateSchema)||void 0===e||e.call(oe,"validated-only")})),(0,r.JJ)(d,oe),Object.assign(Object.assign({},oe),{handleReset:()=>pe(),submitForm:Oe,defineComponentBinds:function(e,t){const n=Q(N(e))||z(e),a=()=>l(t)?t(x(n,re)):t||{};function i(){var e;n.touched=!0,(null!==(e=a().validateOnBlur)&&void 0!==e?e:J().validateOnBlur)&&me(n.path)}function o(e){var t;ue(n.path,e),(null!==(t=a().validateOnModelUpdate)&&void 0!==t?t:J().validateOnModelUpdate)&&me(n.path)}return(0,r.Fl)((()=>{const e={modelValue:n.value,"onUpdate:modelValue":o,onBlur:i};return l(t)?Object.assign(Object.assign({},e),t(n).props||{}):(null==t?void 0:t.mapProps)?Object.assign(Object.assign({},e),t.mapProps(x(n,re))):e}))},defineInputBinds:function(e,t){const n=Q(N(e))||z(e),a=()=>l(t)?t(x(n,re)):t||{};function i(){var e;n.touched=!0,(null!==(e=a().validateOnBlur)&&void 0!==e?e:J().validateOnBlur)&&me(n.path)}function o(e){var t;const r=Y(e);ue(n.path,r),(null!==(t=a().validateOnInput)&&void 0!==t?t:J().validateOnInput)&&me(n.path)}function u(e){var t;const r=Y(e);ue(n.path,r),(null!==(t=a().validateOnChange)&&void 0!==t?t:J().validateOnChange)&&me(n.path)}return(0,r.Fl)((()=>{const e={value:n.value,onChange:u,onInput:o,onBlur:i};return l(t)?Object.assign(Object.assign({},e),t(x(n,re)).attrs||{}):(null==t?void 0:t.mapAttrs)?Object.assign(Object.assign({},e),t.mapAttrs(x(n,re))):e}))}})}Boolean,Boolean}}]);