"use strict";(self.webpackChunkenglish_trainer=self.webpackChunkenglish_trainer||[]).push([[668],{901:function(e,t,r){var a=r(854),n=r.n(a),s=r(348),i=r.n(s),l=new(n())({id:"ChevronRight--sprite",use:"ChevronRight--sprite-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30" id="ChevronRight--sprite"><path fill="currentColor" d="m17.586 15-6.293-6.293a1 1 0 0 1 1.414-1.414l7 7a1 1 0 0 1 0 1.414l-7 7a1 1 0 0 1-1.414-1.414L17.586 15Z" /></symbol>'});i().add(l),t.Z=l},422:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(252),n=r(900);function s(e){const t=(0,a.Fl)(e),r=(0,n.n)();return r.setBreadcrumbs(t.value),(0,a.YP)(t,(()=>{r.setBreadcrumbs(t.value)})),t}},900:function(e,t,r){r.d(t,{n:function(){return i}});var a=r(420),n=r(262),s=r(252);const i=(0,a.Q_)("breadcrumbs",(()=>{const e=(0,n.iH)([]);return{getterBreadcrumbs:(0,s.Fl)((()=>e.value)),setBreadcrumbs:function(t){e.value=t}}}))},787:function(e,t,r){r.d(t,{F:function(){return i}});var a=r(420),n=r(262),s=r(252);const i=(0,a.Q_)("general",(()=>{const e=(0,n.iH)([]);return{getFromCache:(0,s.Fl)((()=>t=>e.value.find((e=>e.id===t)))),cacheWordSets:function(t){for(let r of t)if(!e.value.find((e=>r.id===e.id))){const t={...r};delete t.words,e.value.push(t)}}}}))},485:function(e,t,r){r.d(t,{Z:function(){return H}});var a=r(252),n=r(262),s=r(211),i=r(354),l=r(577),u=r(854),o=r.n(u),c=r(348),v=r.n(c),d=new(o())({id:"Home--sprite",use:"Home--sprite-usage",viewBox:"0 0 30 30",content:'<symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30" id="Home--sprite"><path fill="currentColor" fill-rule="evenodd" d="M5.002 16h2v8a1 1 0 0 0 1 1h13.997a1 1 0 0 0 1-1v-8h2c.89 0 1.336-1.077.706-1.707l-9.998-10a1 1 0 0 0-1.414 0l-9.998 10c-.63.63-.184 1.707.707 1.707ZM18 17v6h3v-8a1 1 0 0 1 1-1h.586L15 6.414 7.414 14H8a1 1 0 0 1 1 1v8h3v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Zm-4 6v-6h2v6h-2Z" clip-rule="evenodd" /><mask id="Home--sprite_a" width="22" height="21" x="4" y="4" maskUnits="userSpaceOnUse" style="mask-type:luminance"><path fill="currentColor" fill-rule="evenodd" d="M5.002 16h2v8a1 1 0 0 0 1 1h13.997a1 1 0 0 0 1-1v-8h2c.89 0 1.336-1.077.706-1.707l-9.998-10a1 1 0 0 0-1.414 0l-9.998 10c-.63.63-.184 1.707.707 1.707ZM18 17v6h3v-8a1 1 0 0 1 1-1h.586L15 6.414 7.414 14H8a1 1 0 0 1 1 1v8h3v-6a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2Zm-4 6v-6h2v6h-2Z" clip-rule="evenodd" /></mask><g mask="url(#Home--sprite_a)"><path fill="currentColor" d="M0 0h30v30H0z" /></g></symbol>'}),_=(v().add(d),d),g=r(901);const p={class:"breadcrumbs block"},m={key:0,class:"breadcrumbs__home"},h=["href"],f={key:0,class:"breadcrumbs__divider"},w=["href"];var y=(0,a.aZ)({__name:"Breadcrumbs",props:{items:{type:Array,required:!0}},setup(e){const t=e;return(e,r)=>((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.items,((e,r)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.to?"router-link":"div"),{class:"breadcrumbs__item",to:e.to,style:(0,l.j5)({color:r===t.items.length-1?"var(--c-secondary)":""})},{default:(0,a.w5)((()=>[0===r?((0,a.wg)(),(0,a.iD)("svg",m,[(0,a._)("use",{href:`#${(0,n.SU)(_).id}`},null,8,h)])):(0,a.kq)("v-if",!0),(0,a.Uk)(" "+(0,l.zw)(e.displayName),1)])),_:2},1032,["to","style"])),r!==t.items.length-1?((0,a.wg)(),(0,a.iD)("svg",f,[(0,a._)("use",{href:`#${(0,n.SU)(g.Z).id}`},null,8,w)])):(0,a.kq)("v-if",!0)],64)))),256))]))}}),b=r(744),S=(0,b.Z)(y,[["__scopeId","data-v-fb341970"]]),Z=r(900);const k={class:"layout__main"},D={class:"_container"};var C=(0,a.aZ)({__name:"LayoutDefault",setup(e){const t=(0,Z.n)();return(e,r)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s.Z),(0,a._)("main",k,[(0,a._)("div",D,[(0,a.Wm)(S,{class:"layout__breadcrumbs",items:(0,n.SU)(t).getterBreadcrumbs},null,8,["items"]),(0,a.WI)(e.$slots,"default")])]),(0,a.Wm)(i.Z,{class:"layout__footer"})],64))}}),H=(0,b.Z)(C,[["__scopeId","data-v-a9d52874"]])},556:function(e,t,r){r.r(t),r.d(t,{default:function(){return fe}});var a=r(252),n=r(262),s=r(485),i=r(577),l={class:"progress-bar"},u={class:"progress-bar__total"},o={__name:"ProgressBar",props:{value:{type:[Number,String],default:0,validator:function(e){return isNaN(e)||parseFloat(e)>=0&&parseFloat(e)<=1}},transition:{type:String}},setup:function(e){var t=e;return function(e,r){return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",u,[(0,a._)("div",{class:"progress-bar__current",style:(0,i.j5)({width:"".concat(100*t.value,"%"),transition:t.transition})},null,4)])])}}},c=r(744),v=(0,c.Z)(o,[["__scopeId","data-v-b29cef70"]]),d={class:"progress-bar-counter"},_={class:"progress-bar-counter__container"},g={class:"counter progress-bar-counter__counter"},p={class:"counter__current"},m=function(e){return(0,a.dD)("data-v-7beaa694"),e=e(),(0,a.Cn)(),e}((function(){return(0,a._)("span",{class:"counter__divider"},"/",-1)})),h={class:"counter__total"},f={class:"progress-bar-counter__value"},w={__name:"ProgressBarCounter",props:{current:{type:[String,Number],required:!0},total:{type:[String,Number],required:!0},max:{type:[String,Number]}},setup:function(e){var t=e,r=Number(t.current),s=Number(t.total),l=Number(t.max);(0,a.wF)((function(){(r<0||s<0||l<0||r>s||s>l)&&console.error("Invalid properties! Total must be > Current!")}));var u=(0,a.Fl)((function(){return t.max?t.total/t.max:t.current/t.total}));return function(e,r){return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",_,[(0,a._)("div",g,[(0,a._)("span",p,(0,i.zw)(t.current),1),m,(0,a._)("span",h,(0,i.zw)(t.total),1)]),(0,a.Wm)(v,{class:"progress-bar-counter__progress",value:(0,n.SU)(u),transition:"ease 0.2s"},null,8,["value"])]),(0,a._)("div",f,(0,i.zw)("".concat(Math.ceil(100*(0,n.SU)(u)),"%")),1)])}}},y=(0,c.Z)(w,[["__scopeId","data-v-7beaa694"]]),b=r(429),S=r(45),Z=r(330),k=r(405),D=r(673),C=r(376);const H={class:"trainer block"},F={key:0,class:"trainer__main"},I={class:"trainer__middle"},U={class:"trainer__word"},x={class:"trainer__translation"},$={key:0,class:"trainer__status"},N={key:1,class:"trainer__status"},W=["href"],z={class:"trainer__status-text"},T={class:"trainer__controls"},j={key:1,class:"trainer__results"},q={class:"trainer__result-image"},B=["href"],L=(e=>((0,a.dD)("data-v-266e1196"),e=e(),(0,a.Cn)(),e))((()=>(0,a._)("div",{class:"trainer__result-title"},"Упражнение завершено",-1))),P={class:"trainer__result-description"};var M=(0,a.aZ)({__name:"TrainerRightWrong",props:{wordSetId:{type:String,required:!0}},setup(e){const t=e,{fetchedData:r,fetchStatus:s}=(0,C.Z)({url:`${D.Z.train}?id=${t.wordSetId}`}),l=(0,a.Fl)((()=>r.value?.trainerData)),u=(0,n.iH)(0),o=(0,n.iH)(0),c=(0,n.iH)(0),v=(0,n.iH)(k.Z),d=(0,n.iH)("Неправильно"),_=(0,n.iH)("var(--c-error)"),g=(0,n.iH)(!1),p=(0,n.iH)(!1),m=(0,a.Fl)((()=>l.value?.[u.value])),h=(0,a.Fl)((()=>m.value?.visibleTranslation===m.value?.actualTranslation)),f=(0,a.Fl)((()=>M(o.value))),w=(0,a.Fl)((()=>M(c.value-o.value)));function M(e){const t=e%100;if(11===t||12===t||13===t||14===t)return`${e} слов`;const r=e%10;return 2===r||3===r||4===r?`${e} слова`:1===r?`${e} слово`:`${e} слов`}function R(){l.value&&(u.value<l.value.length-1?u.value++:p.value=!0)}function Y(e){g.value||(e&&h.value||!e&&!h.value?(O(!0),g.value=!0,o.value++,c.value++,setTimeout((()=>{g.value=!1,R()}),1e3)):(O(!1),g.value=!0,c.value++,setTimeout((()=>{g.value=!1,R()}),1e3)))}function O(e){!0===e&&(v.value=Z.Z,d.value="Правильно",_.value="var(--c-success)"),!1===e&&(v.value=k.Z,d.value="Неправильно",_.value="var(--c-error)")}return(e,t)=>{const r=(0,a.up)("Container");return(0,a.wg)(),(0,a.iD)("div",H,[(0,a.Wm)(r,{status:(0,n.SU)(s)},{default:(0,a.w5)((()=>[p.value?((0,a.wg)(),(0,a.iD)("div",j,[((0,a.wg)(),(0,a.iD)("svg",q,[(0,a._)("use",{href:`#${(0,n.SU)(S.Z).id}`},null,8,B)])),L,(0,a._)("div",P," Вы правильно перевели "+(0,i.zw)(f.value)+", переведено неправильно "+(0,i.zw)(w.value),1)])):((0,a.wg)(),(0,a.iD)("div",F,[(0,a.Wm)(y,{class:"trainer__progress",current:o.value,total:c.value,max:l.value?.length},null,8,["current","total","max"]),(0,a._)("div",I,[(0,a._)("div",U,(0,i.zw)(m.value?.word),1),(0,a._)("div",x,(0,i.zw)(m.value?.visibleTranslation),1),g.value?(0,a.kq)("v-if",!0):((0,a.wg)(),(0,a.iD)("div",$," Верный ли это перевод? ")),g.value?((0,a.wg)(),(0,a.iD)("div",N,[((0,a.wg)(),(0,a.iD)("svg",{class:"trainer__status-svg",style:(0,i.j5)({color:_.value})},[(0,a._)("use",{href:`#${v.value.id}`},null,8,W)],4)),(0,a._)("span",z,(0,i.zw)(d.value),1)])):(0,a.kq)("v-if",!0),(0,a._)("div",T,[(0,a.Wm)(b.Z,{style:{width:"400px","font-size":"20px"},variant:"error",onClick:t[0]||(t[0]=e=>Y(!1))},{default:(0,a.w5)((()=>[(0,a.Uk)(" Не верно ")])),_:1}),(0,a.Wm)(b.Z,{style:{width:"400px","font-size":"20px"},variant:"success",onClick:t[1]||(t[1]=e=>Y(!0))},{default:(0,a.w5)((()=>[(0,a.Uk)(" Верно ")])),_:1})])])]))])),_:1},8,["status"])])}}}),R=(0,c.Z)(M,[["__scopeId","data-v-266e1196"]]);const Y={class:"trainer-option__main input"},O={class:"trainer-option__value"},A={key:0,class:"trainer-option__status"},E={class:"trainer-option__status-svg"},K=["href"],Q={class:"trainer-option__status-text"};var V=(0,a.aZ)({__name:"TrainerOption",props:{word:{type:String,required:!0},status:{type:String}},setup(e){const t=e,r=(0,a.Fl)((()=>"chosen-correct"===t.status?"Правильно":"Неправильно")),n=(0,a.Fl)((()=>"chosen-correct"===t.status?Z.Z:k.Z));return(e,s)=>((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["trainer-option",{"trainer-option_chosen-correct":"chosen-correct"===t.status,"trainer-option_chosen-incorrect":"chosen-incorrect"===t.status,"trainer-option_correct":"correct"===t.status}])},[(0,a._)("div",Y,[(0,a._)("span",O,(0,i.zw)(t.word),1)]),"chosen-incorrect"===t.status||"chosen-correct"===t.status?((0,a.wg)(),(0,a.iD)("div",A,[((0,a.wg)(),(0,a.iD)("svg",E,[(0,a._)("use",{href:`#${n.value.id}`},null,8,K)])),(0,a._)("span",Q,(0,i.zw)(r.value),1)])):(0,a.kq)("v-if",!0)],2))}}),G=(0,c.Z)(V,[["__scopeId","data-v-67732848"]]),J=r(194);const X={class:"trainer-eng-to-rus block"},ee={key:0,class:"trainer-eng-to-rus__content"},te={class:"trainer-eng-to-rus__main"},re={class:"trainer-eng-to-rus__word-data"},ae={class:"trainer-eng-to-rus__word"},ne={key:0,class:"trainer-eng-to-rus__transcription"},se=["src","alt"],ie={class:"trainer-eng-to-rus__options"},le={class:"trainer-eng-to-rus__controls"},ue={key:1,class:"trainer-eng-to-rus__results"},oe={class:"trainer-eng-to-rus__result-image"},ce=["href"],ve=(e=>((0,a.dD)("data-v-8535a67a"),e=e(),(0,a.Cn)(),e))((()=>(0,a._)("div",{class:"trainer-eng-to-rus__result-title"}," Упражнение завершено ",-1))),de={class:"trainer-eng-to-rus__result-description"};var _e=(0,a.aZ)({__name:"TrainerWithOptions",props:{trainingType:{type:String},wordSetId:{type:String,required:!0}},setup(e){const t=e,{fetchedImage:r,fetchStatusImage:s,startFetchImage:l}=function({url:e,stagger:t=!1,fetchOptions:r}={}){const a=(0,n.iH)(),s=(0,n.iH)(J.j.NotStarted),i=(0,n.iH)(!0);let l;function u(t,n){l?.abort();const u=new AbortController;if(l=u,n=n?{...n,signal:u.signal}:r?{...r,signal:u.signal}:{signal:u.signal},!t&&e&&(t=e),!t)throw new Error("Не передан адрес запроса");return i.value=!0,s.value=J.j.Fetching,fetch(t,n).then((e=>e.blob())).catch((e=>{if(e.name="AbortController")throw e;throw new Error("Произошла ошибка при запросе данных. Сервер вернул неправильный формат")})).then((e=>{a.value=URL.createObjectURL(e),s.value=J.j.Ready})).catch((e=>{u.signal.aborted||(s.value=J.j.Error,console.error(e))})).finally((()=>{u.signal.aborted||(i.value=!1)}))}return!t&&e&&u(e,r),{fetchStatusImage:s,fetchedImage:a,isFetchingImage:i,startFetchImage:u}}();let u="train-en-ru"===t.trainingType?D.Z["train-en-ru"]:D.Z["train-ru-en"];const{fetchedData:o,fetchStatus:c,startFetch:v}=(0,C.Z)({url:`${u}?id=${t.wordSetId}`,defaultValue:[],stagger:!0});v().then((()=>{l(o.value[0].img)}));const d=o,_=(0,n.iH)(0),g=(0,n.iH)(!1),p=(0,n.iH)(!1),m=(0,n.iH)(null),h=(0,n.iH)(0),f=(0,n.iH)(0),w=(0,a.Fl)((()=>d.value[_.value])),Z=(0,a.Fl)((()=>w.value?.options||[])),k=(0,a.Fl)((()=>F(h.value))),H=(0,a.Fl)((()=>F(f.value-h.value)));function F(e){const t=e%100;if(11===t||12===t||13===t||14===t)return`${e} слов`;const r=e%10;return 2===r||3===r||4===r?`${e} слова`:1===r?`${e} слово`:`${e} слов`}function I(){m.value=null,p.value=!1,_.value<d.value.length-1?(_.value++,l(w.value.img)):g.value=!0}return(e,l)=>{const u=(0,a.up)("Container");return(0,a.wg)(),(0,a.iD)("div",X,[(0,a.Wm)(u,{status:(0,n.SU)(c)},{default:(0,a.w5)((()=>[g.value?((0,a.wg)(),(0,a.iD)("div",ue,[((0,a.wg)(),(0,a.iD)("svg",oe,[(0,a._)("use",{href:`#${(0,n.SU)(S.Z).id}`},null,8,ce)])),ve,(0,a._)("div",de," Вы правильно перевели "+(0,i.zw)(k.value)+", переведено неправильно "+(0,i.zw)(H.value),1)])):((0,a.wg)(),(0,a.iD)("div",ee,[(0,a.Wm)(y,{class:"trainer-eng-to-rus__progress",current:h.value,total:f.value,max:(0,n.SU)(d).length},null,8,["current","total","max"]),(0,a._)("div",te,[(0,a._)("div",re,[(0,a._)("div",ae,(0,i.zw)(w.value?.word),1),"train-ru-en"!==t.trainingType?((0,a.wg)(),(0,a.iD)("div",ne,(0,i.zw)(w.value?.transcription),1)):(0,a.kq)("v-if",!0),(0,a._)("div",{class:(0,i.C_)(["trainer-eng-to-rus__image-container",{"trainer-eng-to-rus__image-container_blurred":!p.value&&(0,n.SU)(s)!==(0,n.SU)(J.j).Fetching}])},[(0,a.Wm)(u,{status:(0,n.SU)(s)},{default:(0,a.w5)((()=>[(0,a._)("img",{class:"trainer-eng-to-rus__image",src:(0,n.SU)(r),alt:w.value?.word},null,8,se)])),_:1},8,["status"])],2)]),(0,a._)("div",ie,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Z.value,(e=>((0,a.wg)(),(0,a.j4)(G,{class:"trainer-eng-to-rus__option",word:e.word,status:e.status,onClick:t=>{return r=e,void(p.value||(function(e){for(const t of Z.value)t.isCorrect&&t!==e&&(t.status="correct")}(r),function(e){e.isCorrect?e.status="chosen-correct":e.status="chosen-incorrect"}(r),p.value=!0,m.value=r,m.value.isCorrect?(h.value++,f.value++):f.value++));var r}},null,8,["word","status","onClick"])))),256))])]),(0,a._)("div",le,[(0,a.Wm)(b.Z,{variant:"accent",inactive:!p.value,onClick:I},{default:(0,a.w5)((()=>[(0,a.Uk)(" Продолжить ")])),_:1},8,["inactive"])])]))])),_:1},8,["status"])])}}}),ge=(0,c.Z)(_e,[["__scopeId","data-v-8535a67a"]]),pe=r(201),me=r(422),he=r(787),fe=(0,a.aZ)({__name:"PageTrain",setup(e){const t=(0,he.F)(),r=(0,pe.yj)(),i="string"==typeof r.params.wordSetId?r.params.wordSetId:r.params.wordSetId[0],{fetchedData:l,fetchStatus:u}=(0,C.Z)({url:`${D.Z.wordset}?id=${i}`}),o=l;(0,a.YP)(o,(()=>{o.value&&t.cacheWordSets([o.value])}));const c={train:{component:R,displayName:"Верно не верно"},"train-en-ru":{component:ge,displayName:"C английского на русский"},"train-ru-en":{component:ge,displayName:"С русского на английский"}}[r.params.trainingType];return(0,me.Z)((()=>[{displayName:"Главная",to:{name:"PageMain",replace:!0}},{displayName:"Наборы слов",to:{name:"PageWordSets",replace:!0}},{displayName:o.value?.title||t.getFromCache(i)?.title||"Текущий набор",to:{name:"PageWordSet",params:{wordSetId:i}}},{displayName:c.displayName}])),(e,t)=>((0,a.wg)(),(0,a.j4)(s.Z,null,{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)((0,n.SU)(c).component),{class:"page-train__trainer",trainingType:(0,n.SU)(r).params.trainingType,wordSetId:(0,n.SU)(r).params.wordSetId},null,8,["trainingType","wordSetId"]))])),_:1}))}})}}]);